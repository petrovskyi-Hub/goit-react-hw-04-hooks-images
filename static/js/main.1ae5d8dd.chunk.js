(this["webpackJsonpgoit-react-hw-04-hooks-images"]=this["webpackJsonpgoit-react-hw-04-hooks-images"]||[]).push([[0],{11:function(e,t,a){e.exports={wrapper:"Error_wrapper__2TEfP",text:"Error_text__2Vupz",img:"Error_img__3uSvQ"}},24:function(e,t,a){e.exports={overlay:"Loader_overlay__5c8x7"}},30:function(e,t,a){},33:function(e,t,a){},73:function(e,t,a){"use strict";a.r(t);var r=a(1),n=a(0),c=a.n(n),o=a(5),s=a.n(o),i=(a(30),a(6)),u=a.n(i),l=a(13),j=a(9),b=a(4),m=a(10);a(32),a(33);var d=function(e){var t=e.onHandleSubmit,a=Object(n.useState)(""),c=Object(b.a)(a,2),o=c[0],s=c[1];return Object(r.jsx)("header",{className:"Searchbar",children:Object(r.jsxs)("form",{className:"SearchForm",onSubmit:function(e){if(e.preventDefault(),""===o.trim())return m.b.info("\ud83d\ude31 Please enter a value for search images!");t(o),s("")},children:[Object(r.jsx)("button",{type:"submit",className:"SearchForm-button",children:Object(r.jsx)("span",{className:"SearchForm-button-label",children:"Search"})}),Object(r.jsx)("input",{className:"SearchForm-input",type:"text",autoComplete:"off",autoFocus:!0,placeholder:"Search images and photos",value:o,onChange:function(e){var t=e.target;return s(t.value)}})]})})};var f=function(e){var t=e.webformatURL,a=e.largeImageURL,n=e.tags,c=e.onOpenModal;return Object(r.jsx)("li",{className:"ImageGalleryItem",children:Object(r.jsx)("img",{src:t,alt:n,"data-source":a,className:"ImageGalleryItem-image",onClick:c})})};var p=function(e){var t=e.images,a=e.onOpenModal;return Object(r.jsx)("ul",{className:"ImageGallery",children:t.map((function(e,t){var n=e.webformatURL,c=e.largeImageURL,o=e.tags;return Object(r.jsx)(f,{webformatURL:n,largeImageURL:c,tags:o,onOpenModal:a},t)}))})},O=a(22),h=a.n(O),g=function(){var e=Object(j.a)(u.a.mark((function e(t,a){var r,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h.a.get("https://pixabay.com/api/?q=".concat(t,"&page=").concat(a,"&key=18963132-a5d8582da162d4c0f5ee62384&image_type=photo&orientation=horizontal&per_page=12"));case 2:return r=e.sent,n=r.data,e.abrupt("return",n.hits);case 5:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}();var v=function(e){var t=e.onLoadMore;return Object(r.jsx)("button",{type:"button",className:"Button",onClick:t,children:"Load more"})},x=a(23),w=a.n(x),S=(a(72),a(24)),y=a.n(S);var N=function(){return Object(r.jsx)("div",{className:y.a.overlay,children:Object(r.jsx)(w.a,{type:"Grid",color:"#3f51b5",height:100,width:100,timeout:0})})},L=document.querySelector("#modal-root");var _=function(e){var t=e.onCloseModal,a=e.largeImageURL;Object(n.useEffect)((function(){return window.addEventListener("keydown",c),function(){window.removeEventListener("keydown",c)}}));var c=function(e){"Escape"===e.code&&t()};return Object(o.createPortal)(Object(r.jsx)("div",{className:"Overlay",onClick:function(e){e.currentTarget===e.target&&t()},children:Object(r.jsx)("div",{className:"Modal",children:Object(r.jsx)("img",{src:a,alt:""})})}),L)},k=a.p+"static/media/sadcat.3fdf6288.jpg",E=a(11),I=a.n(E);var M=function(e){var t=e.texterror;return Object(r.jsxs)("div",{role:"alert",className:I.a.wrapper,children:[Object(r.jsx)("img",{className:I.a.img,src:k,width:"280",alt:"sadcat"}),Object(r.jsx)("p",{text:t,className:I.a.text,children:t})]})};function C(){var e=Object(n.useState)(""),t=Object(b.a)(e,2),a=t[0],c=t[1],o=Object(n.useState)([]),s=Object(b.a)(o,2),i=s[0],f=s[1],O=Object(n.useState)(1),h=Object(b.a)(O,2),x=h[0],w=h[1],S=Object(n.useState)(null),y=Object(b.a)(S,2),L=y[0],k=y[1],E=Object(n.useState)(!1),I=Object(b.a)(E,2),C=I[0],R=I[1],U=Object(n.useState)(!1),F=Object(b.a)(U,2),G=F[0],T=F[1],H=Object(n.useState)(!1),P=Object(b.a)(H,2),q=P[0],z=P[1],B=Object(n.useState)(""),J=Object(b.a)(B,2),A=J[0],D=J[1];Object(n.useEffect)((function(){a&&function(){var e=Object(j.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,g(a,x);case 3:0===(t=e.sent).length&&k("No results were found for ".concat(a,"!")),t&&f((function(e){return[].concat(Object(l.a)(e),Object(l.a)(t))})),t.length>=12?R(!0):R(!1),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),k("Something went wrong. Try again.");case 12:return e.prev=12,T(!1),x>1&&Q(),e.finish(12);case 16:case"end":return e.stop()}}),e,null,[[0,9,12,16]])})));return function(){return e.apply(this,arguments)}}()()}),[x,a]);var Q=function(){window.scrollTo({top:document.documentElement.scrollHeight,behavior:"smooth"})};return Object(r.jsxs)("div",{className:"App",children:[Object(r.jsx)(d,{onHandleSubmit:function(e){a!==e&&(c(e),f([]),w(1),k(null),T(!0))}}),L&&Object(r.jsx)(M,{texterror:L}),i.length>0&&Object(r.jsx)(p,{images:i,onOpenModal:function(e){D(e.target.dataset.source),z(!0)}}),G&&Object(r.jsx)(N,{}),C&&Object(r.jsx)(v,{onLoadMore:function(){T(!0),w(x+1)}}),q&&Object(r.jsx)(_,{onCloseModal:function(){return z(!1)},largeImageURL:A}),Object(r.jsx)(m.a,{autoClose:4e3})]})}s.a.render(Object(r.jsx)(c.a.StrictMode,{children:Object(r.jsx)(C,{})}),document.getElementById("root"))}},[[73,1,2]]]);
//# sourceMappingURL=main.1ae5d8dd.chunk.js.map